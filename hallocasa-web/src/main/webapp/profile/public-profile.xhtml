<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	template="../commons/templates/general-layout.xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:utils="http://java.sun.com/jsf/composite/components/utils">

	<ui:param name="header_showSubMenu" value="#{false}" />


	<f:metadata>
		<f:viewParam name="user-id" value="#{publicProfilePage.userIdStr}" />
		<f:event type="preRenderComponent"
			listener="#{publicProfilePage.initialize}" />
	</f:metadata>

	<p:growl globalOnly="false" />

	<ui:define name="styleSheetsSection">
		<h:outputStylesheet library="css" name="confirm-email.css" />
		<style>
.ui-widget-overlay {
	filter: alpha(opacity = 90); /* works in IE 7 */
	opacity: 0.9; /* works in Firefox */
}
</style>
	</ui:define>

	<ui:define name="contentSection">

		<f:event type="postAddToView"
			listener="#{globalMenuBean.denyLoginInteract()}"
			rendered="#{not globalMenuBean.logged}">
		</f:event>
		<h:outputScript rendered="#{not globalMenuBean.logged}">
			$(function(){PF('login-dialog').show();})
		</h:outputScript>
		<div class="page">
			<h:form styleClass="hc-form" enctype="multipart/form-data">
				<p:panel header="InformaciÃ³n del perfil"
					styleClass="user-profile-panel">
					<div class="section col-md-12">
						<div class="col-md-6">
							<div class="col-md-5">
								<utils:imageEditor imageUrl="#{publicProfilePage.user.image}"
									imageType="userImage" readOnly="true" />
							</div>
							<div class="col-md-4">
							
								<h:panelGroup layout="block"
									styleClass="row"
									id="user-description-section">
									<h:outputLabel styleClass="hc-form-across-label"
											for="#{mainSpokenLanguage}"
											value="#{viewBundle['Profile.Data.Languages.MainLanguage.Label']}">
										</h:outputLabel>
									<div class="col-md-12"><span class="hc-form-label">#{publicProfilePage.user.mainSpokenLanguage.languageName} </span></div>
								</h:panelGroup>
								
								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Languages.Label']}</span></div>
								<h:panelGroup>
									<ui:repeat value="#{publicProfilePage.user.spokenLanguages}"
										var="lang">
										<span class="hc-form-field"> <h:outputText
												value="#{lang.languageName}" /><br />
										</span>
									</ui:repeat>
								</h:panelGroup>

								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Services.Label']}</span></div>
								<h:panelGroup>
									<ui:repeat value="#{publicProfilePage.user.userTypes}"
										var="userType">
										<span class="hc-form-field"> <h:outputText
												value="#{userType.userTypeName.getText(webSession.currentLanguage)}" />
										</span>
									</ui:repeat>
								</h:panelGroup>
							</div>
							<div class="col-md-4">
								<div class="row"><span class="hc-form-across-label">
										#{viewBundle['Profile.Data.Name.Label']}: </span></div>
								<h:outputText value="#{publicProfilePage.username}" />
								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Country.Label']}</span></div>
								<h:outputText value="#{publicProfilePage.countryName}"
									styleClass="hc-form-field" />
								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.State.Label']}</span></div>
								<h:outputText value="#{publicProfilePage.stateName}"
									styleClass="hc-form-field" />
							<div class="row"><span class="hc-form-across-labell">#{viewBundle['Profile.Data.City.Label']}</span></div>
								<h:outputText value="#{publicProfilePage.cityName}"
									styleClass="hc-form-field" />

								<div class="row"><span class="hc-form-across-label">Telefono</span></div>
								<utils:telephoneNumber
									value="#{publicProfilePage.user.telephone}" 
									readOnly="true"
									id="telephone" />
								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Website.Label']}</span></div>
								<h:outputText value="#{publicProfilePage.websiteName}"
									rendered="#{publicProfilePage.websitePending}"
									styleClass="hc-form-field hc-gray-field" />
								<h:outputLink value="#{publicProfilePage.websiteLink}"
									rendered="#{not publicProfilePage.websitePending}"
									styleClass="hc-form-field">
									<h:outputText value="#{publicProfilePage.websiteName}" />
								</h:outputLink>

								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Linkedin.Label']}</span></div>
								<h:outputText value="#{publicProfilePage.linkedInName}"
									styleClass="hc-form-field #{publicProfilePage.linkedInPending ? 'hc-gray-field' : ''}" />

								<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Skype.Label']}</span></div>
								<h:outputText value="#{publicProfilePage.skypeName}"
									styleClass="hc-form-field #{publicProfilePage.skypePending ? 'hc-gray-field' : ''}" />
								<h:outputLink value="skype:#{publicProfilePage.skypeName}?call"
									rendered="#{not publicProfilePage.skypePending}">
									<h:graphicImage library="images/icons" name="skype-24.png" />
								</h:outputLink>
							</div>
						</div>
						<div class="col-md-6">
							<div class="col-md-12">
								<ui:repeat value="#{publicProfilePage.user.spokenLanguages}"
									var="lang">
									<div class="row"><span class="hc-form-across-label">#{viewBundle['Profile.Data.Description.Label']}
											( #{lang.languageName} )</span></div>
									<div class="description col-md-12">
									<div class="content-description"><span class="hc-form-field">
										#{publicProfilePage.user.userDescription.getText(lang)} </span></div></div>
								</ui:repeat>
							</div>
						</div>
					</div>
				</p:panel>
			</h:form>
		</div>
	</ui:define>
</ui:composition>