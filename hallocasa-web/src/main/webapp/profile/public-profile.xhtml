<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	template="../commons/templates/general-layout.xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:utils="http://java.sun.com/jsf/composite/components/utils">

	<ui:param name="header_showSubMenu" value="#{false}" />


	<f:metadata>
		<f:viewParam name="user-id" value="#{publicProfilePage.userIdStr}" />
		<f:event type="preRenderComponent"
			listener="#{publicProfilePage.initialize}" />
	</f:metadata>

	<p:growl globalOnly="false" />

	<ui:define name="styleSheetsSection">
		<h:outputStylesheet library="css" name="confirm-email.css" />
	</ui:define>

	<ui:define name="contentSection">

		<f:event type="postAddToView"
			listener="#{globalMenuBean.denyLoginInteract()}"
			rendered="#{not globalMenuBean.logged}">
		</f:event>
		<h:outputScript rendered="#{not globalMenuBean.logged}">
			$(function(){PF('login-dialog').show();})
		</h:outputScript>
		<div class="hc-content-body c">
			<div class="container">
				<h:form styleClass="hc-form" enctype="multipart/form-data">
					<!-- <p:panel header="InformaciÃ³n del perfil"
					styleClass="user-profile-panel">-->
					<div class="section col-md-12 hc-contents-cards">
						<div class="row">
							<div class="row">
								<!--Lenguaje principal
							 <h:panelGroup layout="block"
									styleClass="row"
									id="user-description-section">
									<h:outputLabel styleClass="hc-form-across-label"
											for="#{mainSpokenLanguage}"
											value="#{viewBundle['Profile.Data.Languages.MainLanguage.Label']}">
										</h:outputLabel>
									<div class="col-md-12"><span class="hc-form-label">#{viewBundle['Language.' += publicProfilePage.user.mainSpokenLanguage.toString()]} </span></div>
								</h:panelGroup>
								-->

								<div class="hc-image-public-content">
									<utils:imageEditor imageUrl="#{publicProfilePage.user.image}"
										imageType="userImage" readOnly="true" />
								</div>
								<div class="col-md-9 hc-name-content-profiles">
									<!-- <span class="hc-form-across-label">
										#{viewBundle['Profile.Data.Name.Label']}: </span>-->
									<b style="font-size: 30px;"><h:outputText
											value="#{publicProfilePage.username}" /></b>
								</div>

								<ui:fragment rendered="#{not publicProfilePage.linkedInPending}">
									<div class="hc-content-linkedin-profile">
										<!--<span class="hc-form-across-label">#{viewBundle['Profile.Data.Linkedin.Label']}</span>-->
										<h:outputLink value="#{publicProfilePage.linkedInLink}"
											styleClass="hc-form-field" target="_blanck">
											<h:graphicImage library="images/icons" name="linkedin.png"
												class="hc-linkedin" />
											<!-- <h:outputText value="#{publicProfilePage.linkedInName}" /> -->
										</h:outputLink>
									</div>
								</ui:fragment>
								<ui:fragment rendered="#{not publicProfilePage.websitePending}">
									<div class="col-md-3">
										<!-- <span class="hc-form-across-label">#{viewBundle['Profile.Data.Website.Label']}</span> -->
										<h:outputLink value="#{publicProfilePage.websiteLink}"
											styleClass="hc-form-field">
											<h:outputText value="#{publicProfilePage.websiteName}" />
										</h:outputLink>
									</div>
								</ui:fragment>


								<div class="col-md-8">
									<div class="row col-md-6 public-languaje">
										<!--<span class="hc-form-across-label">#{viewBundle['Profile.Data.Languages.Label']}</span>-->
										<h:panelGroup>
											<ui:repeat value="#{publicProfilePage.user.spokenLanguages}"
												var="lang">
												<span class="row hc-form-field"> <h:outputText
														value="#{viewBundle['Language.' += lang.toString()]}" />
												</span>
											</ui:repeat>
										</h:panelGroup>
									</div>
									<div class="col-md-6 type-services">
										<!-- <span class="hc-form-across-label">#{viewBundle['Profile.Data.Services.Label']}</span>-->
										<h:panelGroup>
											<ui:repeat value="#{publicProfilePage.user.userTypes}"
												var="userType">
												<span class="row hc-form-field"> <h:outputText
														value="#{userType.userTypeName.getText(webSession.currentLanguage)}" />
												</span>
											</ui:repeat>
										</h:panelGroup>
									</div>
								</div>
							</div>


							<div class="hc-content-info-public">
								<div class="hc-info-csc">
									<div class="row">
										<span class="hc-form-across-label">#{viewBundle['Profile.Data.Country.Label']}</span>
										&nbsp;
										<h:outputText value="#{publicProfilePage.countryName}"
											styleClass="hc-form-field hc-font-field" />
									</div>
									<div class="row">
										<span class="hc-form-across-label">#{viewBundle['Profile.Data.State.Label']}</span>
										&nbsp;
										<h:outputText value="#{publicProfilePage.stateName}"
											styleClass="hc-form-field hc-font-field" />
									</div>
									<div class="row">

										<span class="hc-form-across-label">#{viewBundle['Profile.Data.City.Label']}</span>
										&nbsp;
										<h:outputText value="#{publicProfilePage.cityName}"
											styleClass="hc-form-field hc-font-field" />
									</div>
								</div>
								<ui:fragment
									rendered="#{not publicProfilePage.telephonePending}">
									<div class="row">
										<span class="hc-form-across-label">#{viewBundle['Profile.Data.Telephone.Label']}</span>
										&nbsp;
										<div class="hc-phone-number">
											<utils:telephoneNumber
												value="#{publicProfilePage.user.telephone}" id="telephone"
												readOnly="true"
												emptyMessage="#{viewBundle['Common.Label.NotSpecified']}"
												styleClass="hc-form-field hc-font-field" />
										</div>
									</div>
								</ui:fragment>
								<ui:fragment rendered="#{not publicProfilePage.skypePending}">
									<div class="row">
										<span class="hc-form-across-label">#{viewBundle['Profile.Data.Skype.Label']}</span>
										&nbsp;
										<div class="row hc-skype">
											<h:outputText value="#{publicProfilePage.skypeName}"
												styleClass="hc-font-field hc-form-field" />
											<h:outputLink
												value="skype:#{publicProfilePage.skypeName}?call">
												<h:graphicImage library="images/icons" name="skype-24.png" />
											</h:outputLink>
										</div>
									</div>
								</ui:fragment>
							</div>
							<div class="col-md-9">
								<div class="row">
									<ui:repeat value="#{publicProfilePage.user.spokenLanguages}"
										var="lang">
										<div class="row">
											<span class="hc-form-across-label">#{viewBundle['Profile.Data.Description.Label']}
												( #{viewBundle['Language.' += lang.toString()]} )</span>
										</div>
										<div class="description col-md-12">
											<div class="hc-content-description">
												<span class="hc-form-field">
													#{publicProfilePage.user.userDescription.getText(lang)} </span>
											</div>
										</div>
									</ui:repeat>
								</div>
							</div>
						</div>
					</div>
					<div
						class="hc-content-body-properties col-md-offset-propertie-public-profile">
						<div class="row hc-contents-cards">
							<p:messages id="messages" showDetail="false" autoUpdate="true"
								closable="true" />
							<div class="col-md-10"></div>
							<div class="col-md-2 btn-responsive"></div>
							<div class="col-md-9">
								<ui:fragment
									rendered="#{publicProfilePage.propertyList.isEmpty()}">
									<div class="row" style="text-align: center;">
										<span class="hc-form-label hc-without-properties alert-info">
											#{viewBundle['Properties.none.property']} </span>
									</div>
								</ui:fragment>

								<ui:repeat var="property"
									value="#{publicProfilePage.propertyList}">
									<div class="row hc-contents-cards-list">
										<div class="col-md-12 hc-cards-list">
											<div class="col-md-3 hc-content-card-image">
												<div class="col-md-12 hc-responsive-div-properties">
													<h:graphicImage
														url="#{property.propertyImageInfo.mainImage.url}"
														rendered="#{property.propertyImageInfo.mainImage != null}"
														styleClass="img-responsive" />
													<h:graphicImage
														url="#{propertyPresentationPage.defaultImageUrl}"
														rendered="#{property.propertyImageInfo.mainImage == null}"
														styleClass="img-responsive" />
												</div>
												<div class="col-md-12 hc-cards-city">
													<label class="control-form hc-properties-city">
														#{propertyPresentationPage.getCityName(property.propertyLocationInfo.city.id)}
													</label>
												</div>
											</div>
											<div class="col-md-9 hc-cards-propertie-title">
												<strong>#{propertyPresentationPage.titleValue(property)}</strong>
											</div>
											<div class="col-md-3">
												<div class="col-md-12">
													<div class="col-md-12">
														<label class="col-md-6 hc-properties-features">
															#{propertyPresentationPage.langValue(property.propertyType.name)}
														</label> <label class="col-md-6 hc-properties-features">
															#{propertyPresentationPage.langValue(property.propertyProposal.name)}
														</label>
													</div>
													<div class="col-md-12">
														<label class="col-md-12 hc-properties-features"
															style="font-weight: 600;">
															#{propertyPresentationPage.currencyValue(property.propertyBasicInfo.marketPrice)}
														</label> <label class="col-md-12 hc-properties-features">
															#{propertyPresentationPage.squareMetersValue(property.propertyBasicInfo.area)}
														</label>
													</div>
												</div>
											</div>
											<div class="col-md-6 hc-cards-list">
												#{propertyPresentationPage.propertyDescriptionValue(property)}</div>
											<div class="col-md-12">
												<div class="col-md-8"></div>
												<div class="col-md-4">
													<p:commandButton
														value="#{viewBundle['Properties.view.label']}"
														styleClass="btn btn-primary"
														actionListener="#{publicProfilePage.goToViewProperty(property)}"
														process="@this">
													</p:commandButton>
												</div>
											</div>
										</div>
									</div>
								</ui:repeat>
							</div>
						</div>
					</div>
					<!-- </p:panel>-->
				</h:form>
			</div>
		</div>
	</ui:define>
</ui:composition>