<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	template="../commons/templates/general-layout.xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:utils="http://java.sun.com/jsf/composite/components/utils">

	<ui:param name="header_showSubMenu" value="#{false}" />

	
	<f:metadata>
		<f:viewParam name="user-id" value="#{publicProfilePage.userIdStr}"/>
		<f:event type="preRenderComponent" listener="#{publicProfilePage.initialize}"/>
	</f:metadata>

	<p:growl globalOnly="false" />

	<ui:define name="styleSheetsSection">
		<h:outputStylesheet library="css" name="confirm-email.css" />
		<style>
			.ui-widget-overlay {
			    filter:alpha(opacity=90);  /* works in IE 7 */
			    opacity: 0.9;  /* works in Firefox */
			}
		</style>
	</ui:define>

	<ui:define name="contentSection">

		<f:event type="postAddToView" 
	     	listener="#{globalMenuBean.denyLoginInteract()}"
	     	rendered="#{not globalMenuBean.logged}">
	    </f:event>
	    <h:outputScript rendered="#{not globalMenuBean.logged}">
			$(function(){PF('login-dialog').show();})
		</h:outputScript>
		<div class="page">
			<br />
			<br />
			<br />
			<br />
			<br />
			<h:form styleClass="hc-form"
                    enctype="multipart/form-data">
            	<p:panel header="InformaciÃ³n del perfil"
						styleClass="user-profile-panel">
					<div class="section hc-overlay-form-fields-container clearfix">
						<div class="col span_1_of_3 hc-responsive-div">
							<utils:imageEditor imageUrl="#{publicProfilePage.user.image}"
								imageType="userImage" readOnly="true" />
						</div>
						<div class="col span_1_of_3">
							<b><span class="hc-form-across-label">
								#{viewBundle['Profile.Data.Name.Label']}: </span></b>
							<h:outputText value="#{publicProfilePage.username}" />
							<br />
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Country.Label']}</span></b>
							<h:outputText value="#{publicProfilePage.countryName}"
								styleClass="hc-form-field" />
							<br /> <b><span class="hc-form-label">#{viewBundle['Profile.Data.State.Label']}</span></b>
							 <h:outputText value="#{publicProfilePage.stateName}"
								styleClass="hc-form-field" />
	
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.City.Label']}</span></b>
							 <h:outputText value="#{publicProfilePage.cityName}"
								styleClass="hc-form-field" />
	
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Website.Label']}</span></b>
			                <h:outputText value="#{publicProfilePage.websiteName}" 
			                			  rendered="#{publicProfilePage.websitePending}"
			                              styleClass="hc-form-field hc-gray-field"/>
			                <h:outputLink value="#{publicProfilePage.websiteLink}" 
			                			  rendered="#{not publicProfilePage.websitePending}"
			                              styleClass="hc-form-field">
			                	<h:outputText value="#{publicProfilePage.websiteName}"/>
							</h:outputLink>
							
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Linkedin.Label']}</span></b>
							<h:outputText value="#{publicProfilePage.linkedInName}" 
										  styleClass="hc-form-field #{publicProfilePage.linkedInPending ? 'hc-gray-field' : ''}"/>
	
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Skype.Label']}</span></b>
							<h:outputText value="#{publicProfilePage.skypeName}"
										 styleClass="hc-form-field #{publicProfilePage.skypePending ? 'hc-gray-field' : ''}" />
							<h:outputLink value="skype:#{publicProfilePage.skypeName}?call"
                			  rendered="#{not publicProfilePage.skypePending}">
								<h:graphicImage library="images/icons"
									name="skype-24.png" />
							</h:outputLink>
						</div>
	
						<div class="col span_1_of_3">
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Languages.Label']}</span></b>
							<h:panelGroup>
								<ui:repeat value="#{publicProfilePage.user.spokenLanguages}"
									var="lang">
									<span class="hc-form-field"> <h:outputText
											value="#{lang.languageName}" /><br />
									</span>
								</ui:repeat>
							</h:panelGroup>
						</div>
	
						<div class="col span_1_of_3">
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Services.Label']}</span></b>
							<h:panelGroup>
								<ui:repeat value="#{publicProfilePage.user.userTypes}"
									var="userType">
									<span class="hc-form-field"> <h:outputText
											value="#{userType.userTypeName.getText(webSession.currentLanguage)}" />
									</span>
									<br />
								</ui:repeat>
							</h:panelGroup>
						</div>
					</div>
					<hr />
	
					<div class="section hc-overlay-form-fields-container clearfix">
						<ui:repeat value="#{publicProfilePage.user.spokenLanguages}"
							var="lang">
							<b><span class="hc-form-label">#{viewBundle['Profile.Data.Description.Label']}
									( #{lang.languageName} )</span></b>
							<span class="hc-form-field">
								#{publicProfilePage.user.userDescription.getText(lang)} </span>
						</ui:repeat>
					</div>
	
					<h:panelGroup layout="block"
						styleClass="section hc-overlay-form-fields-container clearfix"
						id="user-description-section">
						<b> <h:outputLabel styleClass="hc-form-label"
								for="#{mainSpokenLanguage}"
								value="#{viewBundle['Profile.Data.Languages.MainLanguage.Label']}">
							</h:outputLabel>
						</b>
						<span class="hc-form-field">
							#{publicProfilePage.user.mainSpokenLanguage.languageName} </span>
					</h:panelGroup>
				</p:panel>
            </h:form>
			
		</div>
	</ui:define>

</ui:composition>