<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">


	<script>
		$(document).ready(main);

		var contador = 1;

		function main() {
			$('.menu_bar').click(function() {
				// $('nav').toggle(); 

				if (contador == 1) {
			        $('nav').css("position", "relative");
					$('nav').animate({
						left : '0'
					});
					contador = 0;
				} else {
					contador = 1;
			        $('nav').css("position", "absolute");
					$('nav').animate({
						left : '-100%'
					});
				}

			});

		};
	</script>
	<h:form id="global-menu">
		<div class="row col-md-12">
			<header>
			<div class="menu_bar">
				<a href="#" class="bt-menu"><span class="icon-list2"></span>☰</a>
			</div>
			<nav>
			<div class="row col-md-12">
				<ul>
					<li class="hc-header-global-menu-item"><a
						href="#{constants.getAbsolutePageUrl('BROWSE_PROFILE')}"> <span>#{viewBundle['Common.Label.BrowseProfiles']}</span>
					</a></li>

					<li class="hc-header-global-menu-item"><a
						href="#{constants.getAbsolutePageUrl('BLOG_INDEX')}"> <span>#{viewBundle['Common.Label.Blog']}</span>
					</a></li>

					<li class="hc-header-global-menu-item"><a
						href="#{constants.getAbsolutePageUrl('LINKS')}"> <span>#{viewBundle['Common.Label.Links']}</span>
					</a></li>
					<li class="hc-header-global-menu-item"><a
						href="#{constants.getAbsolutePageUrl('BUYING_PROCESS')}"> <span>#{viewBundle['Common.Label.BuyingProcess']}</span>
					</a></li>
					<ui:fragment rendered="#{!globalMenuBean.logged}">
						<li class="hc-header-global-menu-item"><p:commandButton
								class="btn btn-default"
								onclick="PF('signup-dialog').show();
                            PF('signup-dialog').initPosition();"
								type="button" value="#{viewBundle['Header.SignUp.Button']}" /></li>
						<li class="hc-header-global-menu-item"><p:commandButton
								class="btn btn-default"
								onclick="PF('login-dialog').show();
                            PF('login-dialog').initPosition();"
								type="button" value="#{viewBundle['Header.Login.Button']}" /></li>
					</ui:fragment>
					<ui:fragment rendered="#{globalMenuBean.logged}">
						<li class="hc-header-global-menu-item hc-header-menu"><h:panelGroup
								id="profileTrigger" styleClass="fa"
								class="menu-link hc-simple-link">
								<h:graphicImage library="images"
									name="app_images/user_male_16.png" />
								<h:outputText value="#{globalMenuBean.username}" />
							</h:panelGroup> <p:menu overlay="true" my="left top" trigger="profileTrigger"
								widgetVar="profileMenuWv" at="left bottom"
								styleClass="hc-header-menu-overlay hc-header-profile-menu-overlay">
								<p:submenu label="Options">
									<p:menuitem value="#{viewBundle['GlobalMenu.GoToProfile']}"
										immediate="true" ajax="false"
										action="#{globalMenuBean.processGoToProfile}" />
									<p:menuitem value="#{viewBundle['Header.Logout.Button']}"
										immediate="true" ajax="false"
										action="#{globalMenuBean.processLogoutClick}" />
								</p:submenu>
							</p:menu></li>
					</ui:fragment>


					<li
						class="hc-header-global-menu-item hc-header-menu  btn btn-default"><h:panelGroup
							id="languageMenuTrigger" styleClass="fa" class="language-link">
							<span class="hc-simple-link">#{webSession.currentLanguage.languageName}</span>
						</h:panelGroup> <p:menu overlay="true" my="left top"
							trigger="languageMenuTrigger" widgetVar="languageMenuWv"
							at="left bottom"
							styleClass="hc-header-menu-overlay hc-header-language-menu-overlay">
							<p:submenu label="Language Selection">
								<p:menuitem value="English" immediate="true"
									onclick="window.location.href = updateQueryStringParameter(window.location.href, 'lang', 'en');" />
								<p:menuitem value="Español" immediate="true"
									onclick="window.location.href = updateQueryStringParameter(window.location.href, 'lang', 'es');" />
								<p:menuitem value="Deutsch" immediate="true"
									onclick="window.location.href = updateQueryStringParameter(window.location.href, 'lang', 'de');" />
							</p:submenu>
						</p:menu></li>
				</ul>
			</div>
			</nav> </header>
		</div>
	</h:form>

	<ui:include src="/access/fragments/signup-dialog.xhtml" />
	<ui:include src="/access/fragments/login-dialog.xhtml" />
	<ui:include src="/access/fragments/password-recovery-dialog.xhtml" />
	<ui:include src="/access/fragments/password-retype-dialog.xhtml" />
</ui:composition>
