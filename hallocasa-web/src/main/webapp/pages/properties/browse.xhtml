<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:ps="http://java.sun.com/jsf/composite/components/properties"
                xmlns:gr="http://java.sun.com/jsf/composite/components/general"
                template="../../facelets/templates/portalLayout.xhtml">


    <ui:param name="header_showBanner" value="#{false}" />
    <ui:param name="header_showSubMenu" value="#{false}" />

    <!-- Country content section -->
    <ui:define name="portalSection">

        <h1>#{viewBundle['PropertyBrowse.Filters']}</h1>
        <h:panelGroup layout="block" styleClass="left-floating"
                      id="left-section">
            <h:form prependId="false" id="mainFilterMenuSection">
                <gr:filterMenu value="#{propertiesBrowsePage.mainFilterMenuModel}"
                               id="mainFilterMenu"
                               filterChangeListener="#{propertiesBrowsePage.onMainFilterMenuChange}"
                               filterStatus=":filterResultForm:propertyFilterStatus"
                               filterChangeUpdate=":filterResultForm" />
            </h:form>

            <h1>#{viewBundle['PropertyBrowse.AditionalFilters']}</h1>
            <h:form prependId="false" id="additionalFilterMenuSection">
                <gr:filterMenu
                    value="#{propertiesBrowsePage.additionalFilterMenuModel}"
                    id="additionalFilterMenu"
                    filterStatus=":filterResultForm:propertyFilterStatus"
                    filterChangeUpdate=":filterResultForm" />
            </h:form>

            <h1>#{viewBundle['PropertyBrowse.Surroundings']}</h1>
            <h:form prependId="false" id="surroundingFilterMenuSection">
                <gr:filterMenu
                    value="#{propertiesBrowsePage.surroundingFilterMenuModel}"
                    id="surroundingFilterMenu"
                    filterStatus=":filterResultForm:propertyFilterStatus"
                    filterChangeUpdate=":filterResultForm" />
            </h:form>

            <h1>#{viewBundle['PropertyBrowse.FreeTimeActivities']}</h1>
            <h:form prependId="false" id="freeTimeFilterMenuSection">
                <gr:filterMenu
                    value="#{propertiesBrowsePage.freeTimeFilterMenuModel}"
                    id="freeTimeFilterMenu"
                    filterStatus=":filterResultForm:propertyFilterStatus"
                    filterChangeUpdate=":filterResultForm" />
            </h:form>

            <h1>#{viewBundle['PropertyBrowse.Health']}</h1>
            <h:form prependId="false" id="healthFilterMenuSection">
                <gr:filterMenu value="#{propertiesBrowsePage.healthFilterMenuModel}"
                               id="healthFilterMenu"
                               filterStatus=":filterResultForm:propertyFilterStatus"
                               filterChangeUpdate=":filterResultForm" />
            </h:form>

            <h1>#{viewBundle['PropertyBrowse.Family']}</h1>
            <h:form prependId="false" id="familyFilterMenuSection">
                <gr:filterMenu value="#{propertiesBrowsePage.familyFilterMenuModel}"
                               id="familyFilterMenu"
                               filterStatus=":filterResultForm:propertyFilterStatus"
                               filterChangeUpdate=":filterResultForm" />
            </h:form>

            <h1>#{viewBundle['PropertyBrowse.Security']}</h1>
            <h:form prependId="false" id="securityFilterMenuSection">
                <gr:filterMenu
                    value="#{propertiesBrowsePage.securityFilterMenuModel}"
                    id="securityFilterMenu"
                    filterStatus=":filterResultForm:propertyFilterStatus"
                    filterChangeUpdate=":filterResultForm" />
            </h:form>

        </h:panelGroup>


        <h:panelGroup layout="block" styleClass="article-content"
                      id="article-content">
            <h:form prependId="false" id="filterResultForm">
                <h:panelGroup>
                    <gr:filterStatus id="propertyFilterStatus"
                                     value="#{propertiesBrowsePage.mainFilterMenuModel}"
                                     filterMenu=":mainFilterMenuSection:mainFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />

                    <gr:filterStatus id="additionalFilterStatus"
                                     value="#{propertiesBrowsePage.additionalFilterMenuModel}"
                                     filterMenu=":additionalFilterMenuSection:additionalFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />

                    <gr:filterStatus id="surroundingFilterStatus"
                                     value="#{propertiesBrowsePage.surroundingFilterMenuModel}"
                                     filterMenu=":surroundingFilterMenuSection:surroundingFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />

                    <gr:filterStatus id="freeTimeFilterStatus"
                                     value="#{propertiesBrowsePage.freeTimeFilterMenuModel}"
                                     filterMenu=":freeTimeFilterMenuSection:freeTimeFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />

                    <gr:filterStatus id="healthFilterStatus"
                                     value="#{propertiesBrowsePage.healthFilterMenuModel}"
                                     filterMenu=":healthFilterMenuSection:healthFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />

                    <gr:filterStatus id="familyFilterStatus"
                                     value="#{propertiesBrowsePage.familyFilterMenuModel}"
                                     filterMenu=":familyFilterMenuSection:familyFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />

                    <gr:filterStatus id="securityFilterStatus"
                                     value="#{propertiesBrowsePage.securityFilterMenuModel}"
                                     filterMenu=":securityFilterMenuSection:securityFilterMenu"
                                     filterChangeUpdate=":filterResultForm" />
                </h:panelGroup>

                <p:dataGrid value="#{propertiesBrowsePage.propertiesDataModel}"
                            var="property" paginator="true" lazy="true" rows="10" columns="1">
                    <ps:propertyAbstract value="#{property}" />
                </p:dataGrid>
            </h:form>
        </h:panelGroup>
    </ui:define>

</ui:composition>

