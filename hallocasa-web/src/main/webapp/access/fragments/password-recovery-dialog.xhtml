<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"  
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <!-- Agents-Section -->
    <p:dialog modal="true" 
              widgetVar="password-recovery-dialog" 
              id="password-recovery-dialog"
              closeOnEscape="true" 
              header="#{viewBundle['ForgotPassword.recovery']}" 
              resizable="false"
              styleClass="password-recovery-dialog" width="auto">
        <h:form id="password-recovery-form" styleClass="hc-form">
            <h:panelGroup 
                styleClass="hc-overlay-form-fields-container"
                rendered="#{passwordRecoveryDialog.settingUp}">
                <p:outputLabel for="email"  value="#{viewBundle['ForgotPassword.enterEmail']}"
                               styleClass="hc-form-label hc-form-required"/>
                <p:inputText id="email" 
                             placeholder="#{viewBundle['ForgotPassword.enterEmail.placeHolder']}" 
                             styleClass="hc-form-field"
                             value="#{passwordRecoveryDialog.email}"/>
            </h:panelGroup>
            <h:panelGroup 
                styleClass="hc-overlay-form-additional-options"
                rendered="#{passwordRecoveryDialog.settingUp}">
                <p:commandButton value="#{viewBundle['Common.Label.Send']}"
                                 ajax="true" 
                                 update="@form"
                                 action="#{passwordRecoveryDialog.sendPasswordRecovery}"/>
            </h:panelGroup>
            
            <h:panelGroup 
                styleClass="hc-overlay-form-fields-container"
                rendered="#{not passwordRecoveryDialog.settingUp}">
                <h:outputText
                    styleClass="hc-output-text"
                    value="#{viewBundle['ForgotPassword.enterEmail.sent']}"/>
                <br/>
                <p:commandButton
                    value="#{viewBundle['Common.Label.Close']}"
                    immediate="true" 
                    onclick="PF('password-recovery-dialog').hide()"/>
            </h:panelGroup>
            <p:remoteCommand name="refreshAll" update="@all" process="@this"/>
        </h:form>
    </p:dialog>

</ui:composition>

