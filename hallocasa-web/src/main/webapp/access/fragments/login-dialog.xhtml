<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"  
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <!-- Agents-Section -->
    <p:dialog modal="true" widgetVar="login-dialog" id="login-dialog"
              closeOnEscape="true" 
              header="#{viewBundle['Login.Dialog.Title']}" 
              resizable="false"
              styleClass="login-dialog" width="auto">
        <h:form id="login-form" styleClass="hc-form">
            <div class="hc-overlay-form-fields-container">

                <p:outputLabel for="email"  value="#{viewBundle['Login.Form.Email']}"
                               styleClass="hc-form-label hc-form-required"/>
                <p:inputText id="email" placeholder="#{viewBundle['Login.Form.EnterEmail']}" 
                             styleClass="hc-form-field"
                             value="#{loginDialog.credentials.email}"/>

                <p:outputLabel for="password" 
                               value="#{viewBundle['Login.Form.Password']}"
                               styleClass="hc-form-label hc-form-required"/>
                <p:password id="password" 
                            placeholder="#{viewBundle['Login.Form.EnterPassword']}" 
                            styleClass="hc-form-field"
                            value="#{loginDialog.credentials.password}"/>

            </div>
            <div class="hc-overlay-form-additional-options">
                <ui:remove>
                    <p:commandLink value="#{viewBundle['Login.Link.PasswordRecovery']}"/>
                </ui:remove>
                <p:commandLink value="#{viewBundle['Login.Link.SignUp']}"
                               onclick=" PF('login-dialog').hide();
                                       PF('signup-dialog').show();"
                               styleClass="hc-link login-dialog-signup-link"/>
            </div>
            <div class="hc-overlay-form-buttons-container">
                <p:commandButton value="${viewBundle['Login.Submit.Button']}" 
                                 styleClass="hc-form-cancel-button"
                                 actionListener="#{loginDialog.processSubmitClick()}"
                                 process="@form" update="@form"
                                 oncomplete="if (args.ok ){ PF('login-dialog').hide();refreshAll();}"/>
            </div>
            <p:remoteCommand name="refreshAll" update="@all" process="@this"/>
        </h:form>
    </p:dialog>

</ui:composition>

