<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:utils="http://java.sun.com/jsf/composite/components/utils">


	<div class="col-md-12 properties-basic-info">
		<div class="col-md-12">
			<h2>
				<span class="hc-form-label">#{viewBundle['Property.wizard.basic']}</span>
			</h2>
			<hr></hr>
			<p:fieldset legend="#{viewBundle['Profile.Data.Languages.Label']}"
				toggleable="true" toggleSpeed="500">
				<h:panelGroup layout="block"
					styleClass="hc-manycheckbox-three-columns hc-selectManyChkbox">
					<p:selectManyCheckbox id="propertyLanguages" label="Lenguajes"
						value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.languages}"
						layout="responsive" required="true" converter="languageConverter"
						columns="4">
						<f:selectItems value="#{applicationContext.languages}"
							var="language" itemLabel="#{viewBundle['Language.' += language.toString()]}"
							itemValue="#{language}">
						</f:selectItems>
						<f:ajax execute="@this"
							listener="#{propertyWizardPage.processLanguagesSelectedChange}"
							render="data-language-section main-language-section" />
						<f:param name="validate" value="#{false}" />
					</p:selectManyCheckbox>
				</h:panelGroup>
			</p:fieldset>
		</div>

		<div class="col-md-12">
			<h:panelGroup id="data-language-section">
				<div class="col-md-12">
					<h:panelGroup layout="block"
						styleClass="section-propertie clearfix" id="title-section">
						<ui:repeat
							value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.languages}"
							var="lang">
							<div class="col-md-12">
								<b> <h:outputLabel styleClass="hc-form-label" for="#{lang}"
										value="#{viewBundle['propertyWizardPage.propertyInEdition.propertyBasicInfo.title']} (#{viewBundle['Language.' += lang.toString()]})">
									</h:outputLabel>
								</b>
							</div>

							<div class="col-md-12">
								<span> 
									<h:inputText 
										 	label="#{viewBundle['propertyWizardPage.propertyInEdition.propertyBasicInfo.title']} (#{viewBundle['Language.' += lang.toString()]})"
											value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.title.langMap[lang]}"
											styleClass="hc-input-text col-md-12 form-control">
										<f:validateLength minimum="5" />
									</h:inputText>
								</span>
							</div>
						</ui:repeat>
					</h:panelGroup>
				</div>

				<div class="col-md-12">
					<h:panelGroup layout="block"
						styleClass="section-propertie clearfix"
						id="property-description-section">
						<ui:repeat
							value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.languages}"
							var="lang">
							<div class="col-md-12">
								<b> <h:outputLabel styleClass="hc-form-label" for="#{lang}"
										 value="#{viewBundle['propertyWizardPage.property.description']}(#{viewBundle['Language.' += lang.toString()]})">
									</h:outputLabel>
								</b>
							</div>
							<div class="col-md-12">
								<span> 
									<p:inputTextarea rows="10"
										cols="30"
										label="#{viewBundle['propertyWizardPage.property.description']} ( #{viewBundle['Language.' += lang.toString()]} )"
										value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.propertyDescription.langMap[lang]}"
										maxlength="800" styleClass="hc-input-text-area form-control"
										counterTemplate="{0} characters remaining." autoResize="false">
										<f:validateLength minimum="20" />
									</p:inputTextarea>
								</span>
							</div>
						</ui:repeat>
					</h:panelGroup>
				</div>

				<div class="col-md-12">
					<h:panelGroup layout="block"
						styleClass="section-propertie clearfix"
						id="location-description-section">
						<ui:repeat
							value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.languages}"
							var="lang">
							<div class="col-md-12">
								<b> <h:outputLabel styleClass="hc-form-label" for="#{lang}"
										 value="#{viewBundle['propertyWizardPage.property.LocationDescription']} ( #{viewBundle['Language.' += lang.toString()]} )">
									</h:outputLabel>
								</b>
							</div>
							<div class="col-md-12">
								<span> <p:inputTextarea rows="10"
										cols="30"
										label="#{viewBundle['propertyWizardPage.property.LocationDescription']} ( #{viewBundle['Language.' += lang.toString()]} )"
										value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.locationDescription.langMap[lang]}"
										maxlength="800" styleClass="hc-input-text-area form-control"
										counterTemplate="{0} characters remaining." autoResize="false">
										<f:validateLength minimum="20" />
									</p:inputTextarea>
								</span>
							</div>
						</ui:repeat>
					</h:panelGroup>
				</div>
			</h:panelGroup>
		</div>
		<div class="col-md-6">
			<div class="col-md-12">
				<h:panelGroup layout="block" styleClass="clearfix"
					id="main-language-section">
					<b> <h:outputLabel styleClass="hc-form-label"
							for="#{mainSpokenLanguage}"
							label="#{viewBundle['Profile.Data.Languages.MainLanguage.Label']}"
							value="#{viewBundle['Profile.Data.Languages.MainLanguage.Label']}">
						</h:outputLabel>
					</b>
					<span> <h:selectOneMenu id="mainSpokenLanguage"
							styleClass="hc-form-field form-control"
							style="width:100%!important"
							value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.mainLanguage}"
							label="#{viewBundle['Profile.Data.Languages.MainLanguage.Label']}"
							converter="languageConverter" required="true">
							<f:selectItem
								itemLabel="#{viewBundle['Common.Dropdown.SelectOne']}" />
							<f:selectItems
								value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.languages}"
								var="language" itemLabel="#{viewBundle['Language.' += language.toString()]}"
								itemValue="#{language}" />
						</h:selectOneMenu>
					</span>
				</h:panelGroup>
			</div>

			<div class="col-md-12" style="padding: 36px 0px;">
				<b> <h:outputLabel styleClass="hc-form-label" for="market-price"
						label="#{viewBundle['Property.wizard.basic.marketprice']}"
						value="#{viewBundle['Property.wizard.basic.marketprice']}">
					</h:outputLabel>
				</b> <span> <utils:currencyEditor id="currency-editor"
						styleClass="form-control"
						value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.marketPrice}"
						converter="currencyConverter"
						label="#{viewBundle['Property.wizard.basic.marketprice']}"
						validatorMessage="#{viewBundle['Property.wizard.marketprice.nonnumber']}"
						currencies="#{currencyContext.currencies}"
						language="#{webSession.currentLanguage}"
						defaultMessage="#{viewBundle['Properties.BasicInfo.SelectCurrency']}" />
				</span>
			</div>

			<div class="col-md-12">
				<b> <h:outputLabel styleClass="hc-form-label"
						for="square-meters-total"
						label="#{viewBundle['PropertyBrowse.Property.squareMetersTotal']}"
						value="#{viewBundle['PropertyBrowse.Property.squareMetersTotal']}">
					</h:outputLabel>
				</b> <span> <h:inputText id="square-meters-total"
						styleClass="form-control" converter="javax.faces.Double"
						label="#{viewBundle['PropertyBrowse.Property.squareMetersTotal']}"
						value="#{propertyWizardPage.propertyInEdition.propertyBasicInfo.area}" />
				</span>
			</div>
		</div>
	</div>
</ui:composition>