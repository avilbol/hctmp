<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:cc="http://java.sun.com/jsf/composite"
                xmlns:utils="http://java.sun.com/jsf/composite/components/utils">
    <cc:interface>
        <cc:attribute name="id"
                      type="java.lang.String"
                      shortDescription="id"/>
        <cc:attribute name="value"
                      type="com.hallocasa.commons.vo.TelephoneVO"
                      shortDescription="Telephone number"/>
        <cc:attribute name="readOnly"
                      type="java.lang.Boolean"
                      shortDescription="Read only"/>
        <cc:attribute name="emptyMessage"
                      type="java.lang.String"
                      shortDescription="Message when empty telephone"/>
    </cc:interface>
    <cc:implementation>
		<ui:fragment rendered="#{not cc.attrs.readOnly}">
    		<utils:telephoneNumberEditor id="#{cc.attrs.id}"
    			value="#{cc.attrs.value}"/>
    	</ui:fragment>
    	
    	<ui:fragment rendered="#{cc.attrs.readOnly}">
    		<h:outputText
        		value="(#{cc.attrs.value.countryTelephonePrefix.prefix} - 
        				#{cc.attrs.value.countryTelephonePrefix.name}) 
        				#{cc.attrs.value.number}"
        		rendered="#{not (cc.attrs.value eq null)}">
       		</h:outputText>
        	<h:outputText
        		value="#{cc.attrs.emptyMessage}"
        		rendered="#{cc.attrs.value eq null}"></h:outputText>
    	</ui:fragment>
    </cc:implementation>
</ui:composition>