<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <p:dataList id="dtlLinks" value="#{linksPage.lstLinks}" rowIndexVar="rowIndex"
                var="link" emptyMessage="#{viewBundle['Label.NoRecordsFound']}">
        <a href="#{link.url}" target="_blank" class="link">
            <div class="content-link content-link-img" >
                <span class="helper"></span>
                <img class="img-link" id="content-link-image-#{rowIndex}"
                     style="visibility: hidden;"
                     src="" alt="#{link.nameTransalation.getText(webSession.currentLanguage)}" />
            </div>
            <div class="content-link">
                <h4 class="negro">#{link.nameTransalation.getText(webSession.currentLanguage)}</h4>
                <p>#{link.descriptionTransalation.getText(webSession.currentLanguage)}</p>
            </div>
            <script type="text/javascript">
                $("#content-link-image-#{rowIndex}").attr( "src", "#{constants.imagesPath}/links/#{link.nameImage}" );
                $("#content-link-image-#{rowIndex}").load( function(event){
                    $image = jQuery("#content-link-image-#{rowIndex}" );
                    adjustImageSize( $image  );
                    $image.css( "visibility", "visible");
                });
            </script>
        </a>
    </p:dataList>
</ui:composition>

